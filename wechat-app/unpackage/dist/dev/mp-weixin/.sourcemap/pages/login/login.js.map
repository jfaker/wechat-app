{"version":3,"sources":["webpack:///./../../../HBuilderProjects/gateway/pages/login/login.js","webpack:///D:/Users/HBuilderProjects/gateway/pages/login/login.vue","webpack:///./../../../HBuilderProjects/gateway/pages/login/login.vue","webpack:///./../../../HBuilderProjects/gateway/common/util.js","webpack:///D:/Users/HBuilderProjects/gateway/pages/login/login.vue?d16b"],"names":["__webpack_require__","default","Vue","App","$mount","__WEBPACK_IMPORTED_MODULE_1__HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_09231e2c_hasScoped_false_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_MP_WEIXIN_true_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_login_vue__","disposed","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_Users_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_Users_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_Users_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_Users_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_Users_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_HBuilderX_plugins_uniapp_lib_uni_loader_js_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_MP_WEIXIN_true_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_login_vue___default","a","options","__file","esModule","Object","keys","some","key","substr","console","error","functional","__webpack_exports__","_vuex","uni","data","providerList","hasProvider","account","password","positionTop","computed","mapState","methods","getUserInfo","e","_this","this","login","provider","value","success","res","infoRes","log","toMain","userInfo","fail","err","JSON","stringify","mapMutations","initProvider","_this2","filters","getProvider","service","length","i","indexOf","push","image","initPosition","getSystemInfoSync","windowHeight","bindLogin","showToast","icon","title","getUsers","user","oauth","_this3","forcedLogin","reLaunch","url","navigateBack","onLoad","dateUtils","UNITS","年","月","天","小时","分钟","秒","humanize","milliseconds","Math","floor","format","dateStr","date","parse","diff","Date","now","getTime","_format","number","getFullYear","getMonth","getDay","getHours","getMinutes","str","split","module","exports","formatTime","time","hour","parseInt","map","n","toString","join","formatLocation","longitude","latitude","parseFloat","toFixed","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","expression","attrs","type","placeholder","eventid","domProps","on","input","$event","target","composing","tap","open-type","getuserinfo","style","top","_l","index","src","_e","_withStripped","esExports","staticRenderFns"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["const uni = require('uni').default;\nimport Vue from 'vue'\nimport App from 'D:/Users/HBuilderProjects/gateway/pages/login/login.vue'\nconst app = new Vue(App)\napp.$mount()\n\n\n\n// WEBPACK FOOTER //\n// ./../../../HBuilderProjects/gateway/pages/login/login.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../../HBuilderX/plugins/uniapp/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!../../../../HBuilderX/plugins/uniapp/node_modules/vue-style-loader!../../../../HBuilderX/plugins/uniapp/lib/css-var-loader.js!../../../../HBuilderX/plugins/uniapp/node_modules/css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09231e2c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../HBuilderX/plugins/uniapp/node_modules/px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!../../../../HBuilderX/plugins/uniapp/lib/css-upx-loader.js?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!../../../../HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!../../../../HBuilderX/plugins/uniapp/node_modules/postcss-loader?{\\\"config\\\":{\\\"path\\\":\\\"D:\\\\\\\\Users\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\.postcssrc.js\\\"},\\\"sourceMap\\\":true}!../../../../HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!../../../../HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../../HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!../../../../HBuilderX/plugins/uniapp/node_modules/babel-loader?{\\\"babelrc\\\":false,\\\"retainLines\\\":true,\\\"presets\\\":[[\\\"D:\\\\\\\\Users\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-env\\\",{\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"not ie <= 8\\\"]}}],\\\"D:\\\\\\\\Users\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-stage-2\\\"],\\\"plugins\\\":[[\\\"D:\\\\\\\\Users\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-runtime\\\",{\\\"helpers\\\":false,\\\"polyfill\\\":false,\\\"regenerator\\\":true,\\\"moduleName\\\":\\\"D:\\\\\\\\Users\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-runtime\\\"}],\\\"D:\\\\\\\\Users\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-decorators-legacy\\\"]}!../../../../HBuilderX/plugins/uniapp/lib/uni-loader.js!../../../../HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!../../../../HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09231e2c\\\",\\\"hasScoped\\\":false}!../../../../HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"html\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!../../../../HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"..\\\\..\\\\..\\\\HBuilderProjects\\\\gateway\\\\pages\\\\login\\\\login.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] login.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-09231e2c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-09231e2c\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Users/HBuilderProjects/gateway/pages/login/login.vue\n// module id = 18\n// module chunks = 1","const uni = require('uni').default;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\timport util from '../../common/util.js';\n    import service from '../../service.js';\n    import { mapState, mapMutations } from 'vuex' ;\n \n    export default {\n \n        data() {\n            return {\n                providerList: [],\n                hasProvider: false,\n                account: '',\n                password: '',\n                positionTop: 0\n            }\n        },\n        computed: mapState(['forcedLogin']),\n\n        methods: {\n\t\t\t\n\t\t\t\n\t\t\tgetUserInfo:function(e){\n// \t\t\t\tuni.login({\n// \t\t\t\tprovider: 'weixin',\n// \t\t\t\t\tsuccess: function (loginRes){\n// \t\t\t\t\t\tlet code = loginRes.code    // 这个加上getUserInfo里面的encryptedData 和 iv 去换取openid\n// \t\t\t\t\t\tconsole.log(JSON.stringify(loginRes));\n// \t\t\t\t\t}\n// \t\t\t\t})\n               uni.login({\n                    provider: this.providerList[0].value,\n                    success: (res) => {\n                        uni.getUserInfo({\n                            provider: this.providerList[0].value,\n                            success: (infoRes) => {\n                                /**\n                                 * 实际开发中，获取用户信息后，需要将信息上报至服务端。\n                                 * 服务端可以用 userInfo.openId 作为用户的唯一标识新增或绑定用户信息。\n                                 */\n\t\t\t\t\t\t\t\tconsole.log('---------------------');\n                                this.toMain(infoRes.userInfo);\n                            }\n                        });\n                    },\n                    fail: (err) => {\n                        console.error('授权登录失败：' + JSON.stringify(err));\n                    }\n                });\n\t\t\t},\n            ...mapMutations(['login']),\n\t\t\t\n            initProvider() {\n                const filters = ['weixin', 'qq', 'sinaweibo'];\n                uni.getProvider({\n                    service: 'oauth',\n                    success: (res) => {\n                        if (res.provider && res.provider.length) {\n                            for (let i = 0; i < res.provider.length; i++) {\n                                if (~filters.indexOf(res.provider[i])) {\n                                    this.providerList.push({\n                                        value: res.provider[i],\n                                        image: '../../static/img/' + res.provider[i] + '.png'\n                                    });\n                                }\n                            }\n                            this.hasProvider = true;\n                        }\n                    },\n                    fail: (err) => {\n                        console.error('获取服务供应商失败：' + JSON.stringify(err));\n                    }\n                });\n            },\n            initPosition() {\n                /**\n                 * 使用 absolute 定位，并且设置 bottom 值进行定位。软键盘弹出时，底部会因为窗口变化而被顶上来。\n                 * 反向使用 top 进行定位，可以避免此问题。\n                 */\n                this.positionTop = uni.getSystemInfoSync().windowHeight - 100;\n            },\n            bindLogin() {\n                /**\n                 * 客户端对账号信息进行一些必要的校验。\n                 * 实际开发中，根据业务需要进行处理，这里仅做示例。\n                 */\n                if (this.account.length < 5) {\n                    uni.showToast({\n                        icon: 'none',\n                        title: '账号最短为 5 个字符'\n                    });\n                    return;\n                }\n                if (this.password.length < 6) {\n                    uni.showToast({\n                        icon: 'none',\n                        title: '密码最短为 6 个字符'\n                    });\n                    return;\n                }\n                /**\n                 * 下面简单模拟下服务端的处理\n                 * 检测用户账号密码是否在已注册的用户列表中\n                 * 实际开发中，使用 uni.request 将账号信息发送至服务端，客户端在回调函数中获取结果信息。\n                 */\n                const data = {\n                    account: this.account,\n                    password: this.password\n                };\n                const validUser = service.getUsers().some(function (user) {\n                    return data.account === user.account && data.password === user.password;\n                });\n                if (validUser) {\n                    this.toMain(this.account);\n                } else {\n                    uni.showToast({\n                        icon: 'none',\n                        title: '用户账号或密码不正确',\n                    });\n                }\n            },\n\t\t\n            oauth(value) {\n\t\t\t\tconsole.log('---------------------');\n                uni.login({\n                    provider: value,\n                    success: (res) => {\n                        uni.getUserInfo({\n                            provider: value,\n                            success: (infoRes) => {\n                                /**\n                                 * 实际开发中，获取用户信息后，需要将信息上报至服务端。\n                                 * 服务端可以用 userInfo.openId 作为用户的唯一标识新增或绑定用户信息。\n                                 */\n\t\t\t\t\t\t\t\tconsole.log('---------------------');\n                                this.toMain(infoRes.userInfo);\n                            }\n                        });\n                    },\n                    fail: (err) => {\n                        console.error('授权登录失败：' + JSON.stringify(err));\n                    }\n                });\n            },\n            toMain(userInfo) {\n                this.login(userInfo);\n                /**\n                 * 强制登录时使用reLaunch方式跳转过来\n\t\t\t\t * 返回首页也使用reLaunch方式\n                 */\n                if (this.forcedLogin) {\n                    uni.reLaunch({\n                        url: '../main/main',\n                    });\n                } else {\n                    uni.navigateBack();\n                }\n\n            }\n        },\n        onLoad() {\n            this.initPosition();\n            this.initProvider();\n        }\n    }\n\t\n\t\n\n\n\n// WEBPACK FOOTER //\n// ./../../../HBuilderProjects/gateway/pages/login/login.vue","const uni = require('uni').default;function formatTime(time) {\r\n\tif (typeof time !== 'number' || time < 0) {\r\n\t\treturn time\r\n\t}\r\n\r\n\tvar hour = parseInt(time / 3600)\r\n\ttime = time % 3600\r\n\tvar minute = parseInt(time / 60)\r\n\ttime = time % 60\r\n\tvar second = time\r\n\r\n\treturn ([hour, minute, second]).map(function (n) {\r\n\t\tn = n.toString()\r\n\t\treturn n[1] ? n : '0' + n\r\n\t}).join(':')\r\n}\r\n\r\nfunction formatLocation(longitude, latitude) {\r\n\tif (typeof longitude === 'string' && typeof latitude === 'string') {\r\n\t\tlongitude = parseFloat(longitude)\r\n\t\tlatitude = parseFloat(latitude)\r\n\t}\r\n\r\n\tlongitude = longitude.toFixed(2)\r\n\tlatitude = latitude.toFixed(2)\r\n\r\n\treturn {\r\n\t\tlongitude: longitude.toString().split('.'),\r\n\t\tlatitude: latitude.toString().split('.')\r\n\t}\r\n}\r\nvar dateUtils = {\r\n\tUNITS: {\r\n\t\t'年': 31557600000,\r\n\t\t'月': 2629800000,\r\n\t\t'天': 86400000,\r\n\t\t'小时': 3600000,\r\n\t\t'分钟': 60000,\r\n\t\t'秒': 1000\r\n\t},\r\n\thumanize: function (milliseconds) {\r\n\t\tvar humanize = '';\r\n\t\tfor (var key in this.UNITS) {\r\n\t\t\tif (milliseconds >= this.UNITS[key]) {\r\n\t\t\t\thumanize = Math.floor(milliseconds / this.UNITS[key]) + key + '前';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn humanize || '刚刚';\r\n\t},\r\n\tformat: function (dateStr) {\r\n\t\tvar date = this.parse(dateStr)\r\n\t\tvar diff = Date.now() - date.getTime();\r\n\t\tif (diff < this.UNITS['天']) {\r\n\t\t\treturn this.humanize(diff);\r\n\t\t}\r\n\t\tvar _format = function (number) {\r\n\t\t\treturn (number < 10 ? ('0' + number) : number);\r\n\t\t};\r\n\t\treturn date.getFullYear() + '/' + _format(date.getMonth() + 1) + '/' + _format(date.getDay()) + '-' +\r\n\t\t\t_format(date.getHours()) + ':' + _format(date.getMinutes());\r\n\t},\r\n\tparse: function (str) { //将\"yyyy-mm-dd HH:MM:ss\"格式的字符串，转化为一个Date对象\r\n\t\tvar a = str.split(/[^0-9]/);\r\n\t\treturn new Date(a[0], a[1] - 1, a[2], a[3], a[4], a[5]);\r\n\t}\r\n};\r\n\r\nmodule.exports = {\r\n\tformatTime: formatTime,\r\n\tformatLocation: formatLocation,\r\n\tdateUtils: dateUtils\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./../../../HBuilderProjects/gateway/common/util.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('view', {\n    staticClass: \"content\"\n  }, [_c('view', {\n    staticClass: \"input-group\"\n  }, [_c('view', {\n    staticClass: \"input-row border\"\n  }, [_c('text', {\n    staticClass: \"title\"\n  }, [_vm._v(\"账号：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.account),\n      expression: \"account\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"请输入账号\",\n      \"eventid\": '0'\n    },\n    domProps: {\n      \"value\": (_vm.account)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.account = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('text', {\n    staticClass: \"title\"\n  }, [_vm._v(\"密码：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.password),\n      expression: \"password\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"password\": \"true\",\n      \"placeholder\": \"请输入密码\",\n      \"eventid\": '1'\n    },\n    domProps: {\n      \"value\": (_vm.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.password = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('view', {\n    staticClass: \"btn-row\"\n  }, [_c('button', {\n    staticClass: \"primary\",\n    attrs: {\n      \"type\": \"primary\",\n      \"eventid\": '2'\n    },\n    on: {\n      \"tap\": _vm.bindLogin\n    }\n  }, [_vm._v(\"登录\")]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"open-type\": \"getUserInfo\",\n      \"eventid\": '3'\n    },\n    on: {\n      \"getuserinfo\": _vm.getUserInfo\n    }\n  }, [_vm._v(\"微信登陆\")])], 1), _vm._v(\" \"), _c('view', {\n    staticClass: \"action-row\"\n  }, [_c('navigator', {\n    attrs: {\n      \"url\": \"../reg/reg\"\n    }\n  }, [_vm._v(\"注册账号\")]), _vm._v(\" \"), _c('text', [_vm._v(\"|\")]), _vm._v(\" \"), _c('navigator', {\n    attrs: {\n      \"url\": \"../pwd/pwd\"\n    }\n  }, [_vm._v(\"忘记密码\")])], 1), _vm._v(\" \"), (_vm.hasProvider) ? _c('view', {\n    staticClass: \"oauth-row\",\n    style: ({\n      top: _vm.positionTop + 'px'\n    })\n  }, _vm._l((_vm.providerList), function(provider, index) {\n    return _c('view', {\n      key: provider.value,\n      staticClass: \"oauth-image\"\n    }, [_c('image', {\n      attrs: {\n        \"src\": provider.image,\n        \"eventid\": '4-' + index\n      },\n      on: {\n        \"tap\": function($event) {\n          _vm.oauth(provider.value)\n        }\n      }\n    })])\n  })) : _vm._e()])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-09231e2c\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-09231e2c\",\"hasScoped\":false}!./lib/preprocessor-loader.js?{\"type\":\"html\",\"context\":{\"MP-WEIXIN\":true}}!./lib/mpvue-loader/lib/selector.js?type=template&index=0!D:/Users/HBuilderProjects/gateway/pages/login/login.vue\n// module id = 22\n// module chunks = 1"],"sourceRoot":""}